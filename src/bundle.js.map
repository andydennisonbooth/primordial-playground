{"version":3,"sources":["webpack:///webpack/bootstrap 2bbc124f650e63657bf6","webpack:///./src/js/entry.js","webpack:///./src/js/patch.js","webpack:///./src/js/simulation.js","webpack:///./src/js/interface.js","webpack:///./src/js/cell.js"],"names":["document","addEventListener","canvas","createElement","getElementsByTagName","appendChild","run","Number","prototype","mod","n","Array","flatten","result","forEach","el","concat","push","rotate","originalWidth","length","originalHeight","array","oj","row","oi","options","context","getContext","Object","assign","loopRate","stepRate","frameRate","paused","seedRatio","width","Math","ceil","window","innerWidth","height","innerHeight","iface","generateGrid","seed","grid","i","j","x","y","k","l","neighbors","cells","generation","cell","willLive","random","loopCount","frameCount","loopId","setInterval","loop","bind","floor","update","draw","fromClick","step","getAliveNeighbors","population","alive","clearInterval","sim","survivalCounts","birthCounts","dead","emerging","dying","controls","getElementsByClassName","form","getElementById","currentPattern","setUpMouseTracking","setUpPatterns","setUpColorPickers","setUpRuleControls","setUpStepRateSlider","setUpStepControls","setUpHud","clientX","clientY","mouseX","mouseY","removeEventListener","rotateHandler","e","preventDefault","spaceshipButton","ruleControl","ruleName","style","border","value","event","target","counts","split","map","parseInt","colorPicker","colorPickerName","display","opacity","stepRateSlider","innerText","buttonName","stepButton","classList","add","stepButtonClickHandler","pauseButton","playButton","remove","clearButton","seedButton","populationCount","generationCount","size","color","displayX","displayY","aliveNeighbors","filter","hovered","patternMapped","includes","rowIdx","cellStatus","colIdx","patternOffsetX","patternOffsetY","highlighted","fillStyle","fillRect"],"mappings":"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","file":"./src/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2bbc124f650e63657bf6","import './patch';\nimport Simulation from './simulation';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.createElement('canvas');\n  document.getElementsByTagName('body')[0].appendChild(canvas);\n  new Simulation(canvas).run();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/entry.js","Number.prototype.mod = function(n) {\n  return ((this % n) + n) % n;\n};\n\nArray.prototype.flatten = function() {\n  let result = [];\n\n  this.forEach(el => {\n    if (el instanceof Array) {\n      result = result.concat(el.flatten());\n    } else {\n      result.push(el);\n    }\n  });\n\n  return result;\n};\n\nArray.prototype.rotate = function() {\n  // Assumes rectangular matrix\n  const originalWidth = this[0].length;\n  const originalHeight = this.length;\n\n  const array = [];\n  for (let oj = originalWidth - 1; oj >= 0; oj--) {\n    const row = [];\n    for (let oi = 0; oi < originalHeight; oi++) {\n      row.push(this[oi][oj]);\n    }\n    array.push(row);\n  }\n\n  return array;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/patch.js","import Interface from './interface';\nimport Cell from './cell';\n\nexport default class {\n  constructor(canvas, options) {\n    this.canvas = canvas;\n    this.context = canvas.getContext('2d');\n\n    Object.assign(this, {\n      loopRate: 1000,\n      stepRate: 12,\n      frameRate: 60,\n\n      paused: false,\n\n      seedRatio: 0.08, \n\n      width: Math.ceil(window.innerWidth / 10),\n      height: Math.ceil(window.innerHeight / 10),\n    }, options);\n\n    this.iface = new Interface(this);\n\n    this.generateGrid();\n    this.seed();\n  }\n\n  generateGrid() {\n    const grid = [];\n    for (let i = 0; i < this.height; i++) {\n      const row = [];\n      for (let j = 0; j < this.width; j++) {\n        row.push(new Cell(this, { x: j, y: i }));\n      }\n      grid.push(row);\n    }\n\n    for (let i = 0; i < this.height; i++) {\n      for (let j = 0; j < this.width; j++) {\n        for (let k = -1; k <= 1; k++) {\n          for (let l = -1; l <= 1; l++) {\n            if (k === 0 && l === 0) continue;\n            grid[i][j].neighbors.push(\n              grid[(i + k).mod(this.height)][(j + l).mod(this.width)]\n            );\n          }\n        }\n      }\n    }\n\n    this.grid = grid;\n    this.cells = this.grid.flatten();\n\n    this.generation = 0;\n  }\n\n  seed() {\n    this.cells.forEach(cell => {\n      cell.willLive = Math.random() < this.seedRatio;\n    });\n  }\n\n  run() {\n    this.loopCount = 0;\n    this.frameCount = 0;\n\n    this.loopId = setInterval(this.loop.bind(this), 1000 / this.loopRate);\n  }\n\n  loop() {\n    const { loopCount, loopRate, stepRate, frameRate, paused } = this;\n\n    if (loopCount % Math.floor(loopRate / stepRate) === 0) {\n      if (!paused) this.update();\n    }\n\n    if (loopCount % Math.floor(loopRate / frameRate) === 0) {\n      this.draw();\n    }\n\n    this.loopCount++;\n  }\n\n  update(fromClick = false) {\n    if (!fromClick) this.cells.forEach(cell => cell.step());\n    this.cells.forEach(cell => cell.getAliveNeighbors());\n    this.cells.forEach(cell => cell.update(fromClick));\n    if (!fromClick) this.generation++;\n  }\n\n  draw() {\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n\n    this.population = 0;\n    this.cells.forEach(cell => {\n      cell.draw();\n      if (cell.alive) this.population++;\n    });\n\n    this.iface.draw();\n\n    this.frameCount++;\n  }\n\n  kill() {\n    clearInterval(this.loopId);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/simulation.js","export default class {\n  constructor(sim, options) {\n    this.sim = sim;\n\n    Object.assign(this, {\n      survivalCounts: [2, 3],\n      birthCounts: [3],\n\n      dead: '#004080',\n      emerging: '#0080FF',\n      dying: '#CCFF66',\n      alive: '#66FF66'\n    }, options);\n\n    this.controls = document.getElementsByClassName('controls')[0];\n    this.form = document.getElementById('controls-form');\n    this.currentPattern = null;\n\n    this.setUpMouseTracking();\n    this.setUpPatterns();\n    this.setUpColorPickers();\n    this.setUpRuleControls();\n    this.setUpStepRateSlider();\n    this.setUpStepControls();\n    this.setUpHud();\n  }\n\n  setUpMouseTracking() {\n    this.sim.canvas.addEventListener('mousemove', ({ clientX, clientY }) => {\n      this.mouseX = clientX;\n      this.mouseY = clientY;\n    });\n\n    this.sim.canvas.addEventListener('click', () => {\n      this.sim.update(true);\n\n      if (this.currentPattern) {\n        this.currentPattern = null;\n        this.sim.canvas.removeEventListener('contextmenu', this.rotateHandler);\n      }\n    });\n\n    this.sim.canvas.addEventListener('contextmenu', e => {\n      e.preventDefault();\n      return false;\n    }, false);\n  }\n\n  setUpPatterns() {\n    const spaceshipButton = document.getElementById('spaceship-button');\n    spaceshipButton.addEventListener('click', () => {\n      this.currentPattern = [\n        [0, 1, 1, 1, 1],\n        [1, 0, 0, 0, 1],\n        [0, 0, 0, 0, 1],\n        [1, 0, 0, 1, 0]\n      ];\n\n      this.rotateHandler = e => {\n        e.preventDefault();\n        this.currentPattern = this.currentPattern.rotate();\n        return false;\n      };\n\n      this.sim.canvas.addEventListener('contextmenu', this.rotateHandler, false);\n    });\n\n  }\n\n  setUpRuleControls() {\n    ['survival', 'birth'].forEach(ruleName => {\n      const ruleControl = document.getElementById(ruleName + '-rule');\n      ruleControl.addEventListener('input', event => {\n        ruleControl.style.border = '1px solid Gray';\n        const value = event.target.value;\n        try {\n          const counts = value.split(',').map(el => parseInt(el));\n          this[ruleName + 'Counts'] = counts;\n        } catch (e) {\n          ruleControl.style.border = '1px solid Red';\n        }\n      });\n    });\n  }\n\n  setUpColorPickers() {\n    ['alive', 'dying', 'emerging', 'dead'].forEach(colorPickerName => {\n      const colorPicker = document.getElementById(colorPickerName + '-color');\n      colorPicker.value = this[colorPickerName];\n      colorPicker.addEventListener('click', () => {\n        this.form.style.display = 'block';\n        this.controls.style.opacity = 1;\n        colorPicker.addEventListener('focusin', () => {\n          this.form.style.display = null;\n          this.controls.style.opacity = null;\n        });\n      });\n\n      colorPicker.addEventListener('change', event => {\n        this[colorPickerName] = event.target.value;\n      });\n    });\n  }\n\n  setUpStepRateSlider() {\n    this.stepRateSlider = document.getElementById('stepRateSlider');\n    this.stepRateSlider.value = this.sim.stepRate;\n    this.stepRateSlider.addEventListener('input', event => {\n      document.getElementById('stepRate').innerText = this.stepRateSlider.value;\n      this.sim.stepRate = parseInt(this.stepRateSlider.value);\n    });\n  }\n\n  setUpStepControls() {\n    ['pause', 'play', 'step', 'clear', 'seed'].forEach(buttonName => {\n      this[buttonName + 'Button'] = document.getElementById(buttonName);\n    });\n\n    ['play', 'seed'].forEach(buttonName => {\n      this[buttonName + 'Button'].style.display = 'none';\n    });\n\n    this.stepButton.classList.add('button-disabled');\n\n    const stepButtonClickHandler = () => {\n      this.sim.update();\n    };\n\n    this.pauseButton.addEventListener('click', () => {\n      this.sim.paused = true;\n      this.pauseButton.style.display = 'none';\n      this.playButton.style.display = 'block';\n      this.stepButton.classList.remove('button-disabled');\n      this.stepButton.addEventListener('click', stepButtonClickHandler);\n    });\n\n    this.playButton.addEventListener('click', () => {\n      this.sim.paused = false;\n      this.playButton.style.display = 'none';\n      this.pauseButton.style.display = 'block';\n      this.stepButton.classList.add('button-disabled');\n      this.stepButton.removeEventListener('click', stepButtonClickHandler);\n    });\n\n    this.clearButton.addEventListener('click', () => {\n      this.sim.generateGrid();\n    });\n\n    this.seedButton.addEventListener('click', () => {\n      this.sim.seed();\n      this.sim.update();\n    });\n  }\n\n  setUpHud() {\n    this.populationCount = document.getElementById('population-count');\n    this.generationCount = document.getElementById('generation-count');\n  }\n\n  draw() {\n    if (this.sim.population === 0) {\n      this.clearButton.style.display = 'none';\n      this.seedButton.style.display = 'block';\n    } else {\n      this.seedButton.style.display = 'none';\n      this.clearButton.style.display = 'block';\n    }\n\n    this.populationCount.innerText = this.sim.population;\n    this.generationCount.innerText = this.sim.generation;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/interface.js","export default class {\n  constructor(sim, options) {\n    this.sim = sim;\n\n    Object.assign(this, {\n      x: 0,\n      y: 0,\n      size: 10,\n      color: this.sim.iface.dead,\n      alive: false,\n      neighbors: []\n    }, options);\n\n    this.displayX = this.x * this.size;\n    this.displayY = this.y * this.size;\n  }\n\n  step() {\n    this.alive = this.willLive;\n  }\n\n  getAliveNeighbors() {\n    this.aliveNeighbors = this.neighbors.filter(cell => cell.alive).length;\n  }\n\n  update(fromClick = false) {\n    const iface = this.sim.iface;\n\n    if (fromClick) {\n      if (this.hovered) {\n        this.alive = !this.alive;\n        this.neighbors.forEach(cell => cell.getAliveNeighbors());\n        this.neighbors.forEach(cell => cell.update(true));\n      } else if (this.patternMapped) {\n        this.alive = true;\n        this.neighbors.forEach(cell => cell.getAliveNeighbors());\n        this.neighbors.forEach(cell => cell.update(false));\n      }\n    }\n\n    if (this.alive) {\n      if (iface.survivalCounts.includes(this.aliveNeighbors)) {\n        // Survive\n        this.willLive = true;\n      } else {\n        // Die\n        this.willLive = false;\n      }\n    } else {\n      if (iface.birthCounts.includes(this.aliveNeighbors)) {\n        // Birth\n        this.willLive = true;\n      } else {\n        // Dead\n        this.willLive = false;\n      }\n    }\n  }\n\n  draw() {\n    const { displayX, displayY, size, sim: { context, iface } } = this;\n\n    if (this.alive) {\n      if (this.willLive) {\n        this.color = iface.alive;\n      } else {\n        this.color = iface.dying;\n      }\n    } else {\n      if (this.willLive) {\n        this.color = iface.emerging;\n      } else {\n        this.color = iface.dead;\n      }\n    }\n\n    this.hovered = (\n      (displayX <= iface.mouseX && iface.mouseX < displayX + size) &&\n      (displayY <= iface.mouseY && iface.mouseY < displayY + size)\n    );\n\n    this.patternMapped = false;\n    if (iface.currentPattern) {\n      this.hovered = false;\n      iface.currentPattern.forEach((row, rowIdx) => {\n        row.forEach((cellStatus, colIdx) => {\n          const patternOffsetX = iface.mouseX + (colIdx * size);\n          const patternOffsetY = iface.mouseY + (rowIdx * size);\n          if (\n            (displayX <= patternOffsetX && patternOffsetX < displayX + size) &&\n            (displayY <= patternOffsetY && patternOffsetY < displayY + size) &&\n            cellStatus === 1\n          ) {\n            this.patternMapped = true;\n          }\n        });\n      });\n    }\n\n    const highlighted = this.hovered || this.patternMapped;\n\n    if (highlighted) {\n      context.fillStyle = 'white';\n      context.fillRect(\n        displayX,\n        displayY,\n        size,\n        size\n      );\n    }\n\n    context.fillStyle = this.color;\n    context.fillRect(\n      displayX + (highlighted ? 1 : 0),\n      displayY + (highlighted ? 1 : 0),\n      size - (highlighted ? 2 : 0),\n      size - (highlighted ? 2 : 0)\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/cell.js"],"sourceRoot":""}