{"version":3,"sources":["webpack:///webpack/bootstrap 559075a336ce19c590da","webpack:///./src/js/game_object.js","webpack:///./src/js/pair.js","webpack:///./src/js/entry.js","webpack:///./src/js/game.js","webpack:///./src/js/triple.js","webpack:///./src/js/character.js"],"names":["game","options","context","Object","assign","position","size","speed","color","visible","registerGameObject","unregisterGameObject","update","fillStyle","fillRect","xy","pair","offset","Pair","x","y","other","Math","sqrt","map","thisDim","index","pow","reduce","sum","value","document","addEventListener","start","canvas","frameRate","backgroundColor","body","getElementsByTagName","createElement","appendChild","getContext","focus","game_actions","objects","Set","object_actions","push","width","innerWidth","height","innerHeight","downkeys","add","event","keyCode","delete","go","object","forEach","action","loop","setInterval","dispatchGameActions","dispatchObjectActions","pop","Triple","z","triple","args","move","filter","key","has","_","delta","concat","deltaSum","deltaEl","idx"],"mappings":"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","file":"./src/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 559075a336ce19c590da","import Pair from './pair';\nimport Triple from './triple';\n\nexport default class {\n  constructor(game, options) {\n    this.game = game;\n    this.context = game.context;\n\n    Object.assign(this, {\n      position: new Triple,\n      size: new Pair(1, 1),\n      speed: 1,\n      color: 'black',\n      visible: true\n    }, options);\n  }\n\n  register() {\n    this.game.registerGameObject(this);\n  }\n\n  unregister() {\n    this.game.unregisterGameObject(this);\n  }\n\n  update() {\n    this.position.update();\n    this.size.update();\n  }\n\n  draw() {\n    if (!this.visible) return;\n    this.context.fillStyle = this.color;\n    this.context.fillRect(...this.position.xy, ...this.size.pair);\n  }\n\n  move(...offset) {\n    this.position = this.position.offset(new Triple(...offset));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/game_object.js","export default class Pair {\n  constructor(x = 0, y = 0) {\n    this.x = x;\n    this.y = y;\n\n    this.update();\n  }\n\n  update() {\n    this.pair = [this.x, this.y];\n  }\n\n  distance(other) {\n    return Math.sqrt(this.pair.map((thisDim, index) => (\n      Math.pow(thisDim - other.pair[index])\n    )).reduce((sum, value) => sum + value));\n  }\n\n  offset(other) {\n    return new Pair(...this.pair.map((thisDim, index) => (\n      thisDim + other.pair[index]\n    )));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/pair.js","import Game from './game';\nimport Character from './character';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const game = new Game();\n  game.registerGameObject(new Character(game));\n  game.start();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/entry.js","import GameObject from './game_object';\n\nexport default class {\n  constructor(options) {\n    this.options = Object.assign(this, {\n      canvas: null,\n      context: null,\n      frameRate: 60,\n      backgroundColor: 'white'\n    }, options);\n\n    // Get body reference\n    this.body = document.getElementsByTagName('body')[0];\n\n    // Get or create canvas\n    if (!this.canvas) {\n      this.canvas = document.getElementsByTagName('canvas')[0];\n      if (!this.canvas) {\n        this.canvas = document.createElement('canvas');\n      }\n      this.body.appendChild(this.canvas);\n    }\n\n    if (!this.context) {\n      this.context = this.canvas.getContext('2d');\n    }\n\n    // Set focus to canvas\n    this.canvas.focus();\n\n    // Set up game and object actions\n    this.game_actions = [];\n    this.objects = new Set;\n    this.object_actions = ['update', 'draw'];\n\n    // Action for keeping track of viewport size\n    this.game_actions.push(() => {\n      this.width = innerWidth;\n      this.height = innerHeight;\n    });\n\n    this.game_actions.push(() => {\n      this.canvas.width = this.width;\n      this.canvas.height = this.height;\n    });\n\n    // Action for clearing background\n    this.game_actions.push(() => {\n      this.context.fillStyle = this.backgroundColor;\n      this.context.fillRect(0, 0, this.width, this.height);\n    });\n\n    // Set up key status tracking\n    this.downkeys = new Set;\n    this.body.addEventListener('keydown', event => {\n      this.downkeys.add(event.keyCode);\n    });\n    this.body.addEventListener('keyup', event => {\n      this.downkeys.delete(event.keyCode);\n    });\n  }\n\n  registerGameObject(go) {\n    this.objects.add(go);\n  }\n\n  unregisterGameObject(go) {\n    this.object.delete(go);\n  }\n\n  dispatchGameActions() {\n    this.game_actions.forEach(action => action());\n  }\n\n  dispatchObjectActions() {\n    this.object_actions.forEach(action => {\n      this.objects.forEach(object => object[action]());\n    });\n  }\n\n  start(frameRate) {\n    this.loop = setInterval(() => {\n      this.dispatchGameActions();\n      this.dispatchObjectActions();\n    }, 1000 / (frameRate || this.frameRate));\n  }\n\n  pause() {\n    this.object_actions.pop();\n  }\n\n  unpause() {\n    this.object_actions.push('draw');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/game.js","export default class Triple {\n  constructor(x = 0, y = 0, z = 0) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n\n    this.update();\n  }\n\n  update() {\n    this.triple = [this.x, this.y, this.x];\n    this.xy = [this.x, this.y];\n  }\n\n  distance(other) {\n    return Math.sqrt(this.triple.map((thisDim, index) => (\n      Math.pow(thisDim - other.triple[index])\n    )).reduce((sum, value) => sum + value));\n  }\n\n  offset(other) {\n    return new Triple(...this.triple.map((thisDim, index) => (\n      thisDim + other.triple[index]\n    )));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/triple.js","import Pair from './pair';\nimport GameObject from './game_object';\n\nexport default class extends GameObject {\n  constructor(...args) {\n    super(...args);\n\n    this.color = 'blue';\n    this.size = new Pair(20, 20);\n  }\n\n  update() {\n    this.move(...[\n      [87, [ 0, -1]],\n      [65, [-1,  0]],\n      [83, [ 0,  1]],\n      [68, [ 1,  0]]\n    ].filter(([key]) => (\n      this.game.downkeys.has(key)\n    )).map(([_, delta]) => delta).concat([[0, 0]]).reduce((deltaSum, delta) => (\n      deltaSum.map((deltaEl, idx) => deltaEl + delta[idx])\n    )).map(deltaEl => deltaEl * this.speed));\n\n    super.update();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/character.js"],"sourceRoot":""}